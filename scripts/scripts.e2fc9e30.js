"use strict";var app=angular.module("smallTalkApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/posts.html",controller:"PostsCtrl"}).when("/posts/:postId",{templateUrl:"views/postview.html",controller:"PostViewCtrl"}).otherwise({redirectTo:"/"})}]).constant("FIREBASE_URL","https://small-talk-db.firebaseio.com");app.controller("NavCtrl",["$scope","$location","Post",function(a,b,c){a.post={url:"http://",title:""},a.submitPost=function(){c.create(a.post).then(function(c){b.path("/posts/"+c.name()),a.post={url:"http://",title:""}})}}]),app.controller("PostsCtrl",["$scope","$location","Post",function(a,b,c){a.posts=c.all,a.post={url:"http://"},a.deletePost=function(a){c["delete"](a)}}]),app.controller("PostViewCtrl",["$scope","$routeParams","Post",function(a,b,c){a.post=c.get(b.postId)}]),app.factory("Post",["$firebase","FIREBASE_URL",function(a,b){var c=new Firebase(b),d=a(c.child("posts")).$asArray(),e={all:d,create:function(a){return d.$add(a)},get:function(b){return a(c.child("posts").child(b)).$asObject()}};return e}]),app.filter("hostnameFromUrl",function(){return function(a){var b=document.createElement("a");return b.href=a,b.hostname}});